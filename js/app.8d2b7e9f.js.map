{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/TheBook.vue?c3bb","webpack:///./src/App.vue?1c1b","webpack:///./src/components/DropScreen.vue?62fe","webpack:///./src/components/BookBookmark.vue?b78d","webpack:///./src/components/BookParagraph.vue?61fd","webpack:///./src/components/BookHeader.vue","webpack:///./src/App.vue?4154","webpack:///./src/components/DropScreen.vue?78da","webpack:///./src/components/TheBook.vue?2e16","webpack:///./src/components/BookBookmark.vue?3956","webpack:///./src/components/BookBookmark.vue","webpack:///./src/components/BookBookmark.vue?426b","webpack:///./src/components/BookBookmark.vue?b7cc","webpack:///./src/components/BookParagraph.vue?0af8","webpack:///src/components/BookParagraph.vue","webpack:///./src/components/BookParagraph.vue?6fec","webpack:///./src/components/BookParagraph.vue","webpack:///src/components/BookHeader.vue","webpack:///./src/components/BookHeader.vue?59c8","webpack:///./src/components/BookLineBreak.vue?e84d","webpack:///src/components/BookLineBreak.vue","webpack:///./src/components/BookLineBreak.vue?0f48","webpack:///./src/components/BookLineBreak.vue","webpack:///./src/components/TheBook.vue","webpack:///./src/components/TheBook.vue?ebd3","webpack:///./src/components/TheBook.vue?31a3","webpack:///./src/components/DropScreen.vue","webpack:///./src/components/DropScreen.vue?4906","webpack:///./src/components/DropScreen.vue?3603","webpack:///src/App.vue","webpack:///./src/App.vue?b65f","webpack:///./src/App.vue","webpack:///./src/helpers/aozora.ts","webpack:///./src/helpers/bookmark.ts","webpack:///./src/store/book.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","attrs","tag","staticRenderFns","staticClass","on","$event","stopPropagation","preventDefault","onFileDragover","onFileDragleave","onFileDrop","isLoaded","_e","_v","_s","title","author","_l","text","textType","index","extend","pxPosition","component","style","paragraphId","domProps","content","props","jisageStyle","margin","jisage","headerId","createElement","hLevel","class","components","BookBookmark","BookParagraph","BookHeader","BookLineBreak","position","encoding","methods","computed","$store","getters","textComponents","TheBook","isDraggingFile","bookBytes","ArrayBuffer","e","dataTransfer","files","file","dispatch","type","DropScreen","todo","comments","accents","replace","rubify","furigana","boutenify","bouten","kutenkara","jiskuten","midasi","midasipattern","match","p1","p2","console","log","insertBookmark","bookmark","template","document","innerHTML","bookmarkNode","childNodes","node","textContent","sliceUntilBookmark","createTextNode","character","charAtBookmark","sliceAfterBookmark","newBookmark","appendChild","backgroundColor","bookmarkFragment","createDocumentFragment","replaceChild","BookState","bookFile","paragraph","rawLines","state","actions","context","payload","Promise","resolve","reader","FileReader","onload","rawString","commit","split","readAsText","reject","mutations","texts","divisor","metadataEnd","sagepattern","fullwidth","jisageString","String","fromCharCode","charCodeAt","parseInt","owaripattern","owari","namespaced","use","debug","Store","book","strict","config","productionTip","store","h","App","$mount"],"mappings":"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","file":"js/app.8d2b7e9f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheBook.vue?vue&type=style&index=0&id=2422fa96&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropScreen.vue?vue&type=style&index=0&id=ff92f2fc&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookBookmark.vue?vue&type=style&index=0&id=0dcac8b9&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookParagraph.vue?vue&type=style&index=0&id=4830f37f&scoped=true&lang=css&\"","var render, staticRenderFns\nimport script from \"./BookHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./BookHeader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('DropScreen',{tag:\"component\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"drop-wrapper\",on:{\"dragover\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onFileDragover($event)},\"dragleage\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onFileDragleave($event)},\"drop\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onFileDrop($event)}}},[_c('div',{staticClass:\"welcome-wrapper\"},[(!_vm.isLoaded)?_c('h1',{staticClass:\"welcome\"},[_vm._v(\"Drag and drop unzipped Aozora Bunko text file\")]):_vm._e()]),(_vm.isLoaded)?_c('TheBook'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"the-book-wrapper\"},[_c('div',{staticClass:\"the-book\"},[_c('BookBookmark'),_c('h1',[_vm._v(_vm._s(_vm.title))]),_c('h2',[_vm._v(_vm._s(_vm.author))]),_vm._l((_vm.textComponents),function(text){return _c(text.textType,{key:text.index,tag:\"component\",attrs:{\"id\":text.textType + '-' + text.index,\"text\":text}})})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bookmark\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\r\nimport Vue from 'vue'\r\n\r\nexport default Vue.extend({\r\n    name: 'BookBookmark',\r\n    \r\n    data: function () {\r\n        return {\r\n            pxPosition: 0,\r\n        }\r\n    },\r\n    \r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookBookmark.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookBookmark.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BookBookmark.vue?vue&type=template&id=0dcac8b9&scoped=true&\"\nimport script from \"./BookBookmark.vue?vue&type=script&lang=ts&\"\nexport * from \"./BookBookmark.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BookBookmark.vue?vue&type=style&index=0&id=0dcac8b9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0dcac8b9\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"paragraph text-component\",style:(_vm.jisageStyle),attrs:{\"id\":_vm.paragraphId},domProps:{\"innerHTML\":_vm._s(_vm.text.content)}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div\r\n        v-bind:id=\"paragraphId\"\r\n        v-html=\"text.content\"\r\n        v-bind:style=\"jisageStyle\"\r\n        class=\"paragraph text-component\"\r\n    ></div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nexport default Vue.extend({\r\n    name: 'BookParagraph',\r\n    props: ['text'],\r\n    data: function () {\r\n        return {\r\n            paragraphId: this.text.index + '-paragraph',\r\n            jisageStyle: {\r\n                margin: this.text.jisage + \"em 0 0 0\"\r\n            }\r\n        }\r\n    }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n    .paragraph {\r\n        text-align:justify;\r\n        word-wrap:break-word;\r\n        background-color:rgb(241, 237, 212);\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookParagraph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookParagraph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookParagraph.vue?vue&type=template&id=4830f37f&scoped=true&\"\nimport script from \"./BookParagraph.vue?vue&type=script&lang=js&\"\nexport * from \"./BookParagraph.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookParagraph.vue?vue&type=style&index=0&id=4830f37f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4830f37f\",\n  null\n  \n)\n\nexport default component.exports","<script>\r\nimport Vue from 'vue'\r\nexport default Vue.extend({\r\n        props: ['text'],\r\n        data: function() {\r\n            return {\r\n                headerId: \"header-\" + this.text.index,\r\n            }\r\n        },\r\n        render: function(createElement) {\r\n            return createElement(\r\n                'h' + this.text.hLevel,\r\n                {\r\n                    class: {\r\n                        'header': true,\r\n                        'text-component': true,\r\n                    },\r\n                    style: {\r\n                        margin: this.text.jisage + \"em 0 0 0\",\r\n                    },\r\n                    key: this.text.index,\r\n                },\r\n                this.text.content,\r\n            )\r\n        },\r\n});\r\n</script>\r\n    });\r\n    <style>\r\n    </style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookHeader.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('br')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <br>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nexport default Vue.extend({\r\n    name: 'BookLineBreak',\r\n    props: [\"text\"],\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookLineBreak.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookLineBreak.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookLineBreak.vue?vue&type=template&id=f9e0cc8e&scoped=true&\"\nimport script from \"./BookLineBreak.vue?vue&type=script&lang=js&\"\nexport * from \"./BookLineBreak.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f9e0cc8e\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport BookBookmark from './BookBookmark.vue'\r\nimport BookParagraph from './BookParagraph.vue'\r\nimport BookHeader from './BookHeader.vue'\r\nimport BookLineBreak from './BookLineBreak.vue'\r\nimport Vue from 'vue'\r\nexport default Vue.extend({\r\n    name: 'TheBook',\r\n\r\n    components: {\r\n        BookBookmark: BookBookmark,\r\n        BookParagraph: BookParagraph,\r\n        BookHeader: BookHeader,\r\n        BookLineBreak: BookLineBreak,\r\n    },\r\n\r\n    data: function() {\r\n        return {\r\n            position: 0,\r\n            encoding: 'shift-jis',\r\n        }\r\n    },\r\n\r\n    methods: {\r\n    },\r\n\r\n    computed: {\r\n        isLoaded: function() {\r\n            return this.$store.getters['book/isLoaded']\r\n        },\r\n        title: function () {\r\n            return this.$store.getters['book/title']\r\n        },\r\n        author: function() {\r\n            return this.$store.getters['book/author']\r\n        },\r\n        textComponents: function() {\r\n            return this.$store.getters['book/textComponents']\r\n        },\r\n    },\r\n\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheBook.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheBook.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TheBook.vue?vue&type=template&id=2422fa96&scoped=true&\"\nimport script from \"./TheBook.vue?vue&type=script&lang=ts&\"\nexport * from \"./TheBook.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TheBook.vue?vue&type=style&index=0&id=2422fa96&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2422fa96\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport TheBook from './TheBook.vue'\r\nimport Vue from 'vue'\r\nexport default Vue.extend({\r\n    name: 'DropScreen',\r\n    components: {\r\n        TheBook\r\n    },\r\n\r\n    data: function() {\r\n        return {\r\n            isDraggingFile: false,\r\n            bookBytes: new ArrayBuffer(0),\r\n        }\r\n    },\r\n\r\n    computed: {\r\n        isLoaded() { return this.$store.getters['book/isLoaded']},\r\n    },\r\n\r\n    methods: {\r\n        onFileDragover: function() {\r\n            this.isDraggingFile = true;\r\n        },\r\n        onFileDragleave: function() {\r\n            this.isDraggingFile = false;\r\n        },\r\n        onFileDrop: function(e :DragEvent) {\r\n            this.isDraggingFile = false;\r\n            if (e.dataTransfer) {\r\n                for (var i = 0; i < e.dataTransfer.files.length; i++) {\r\n                    var file = e.dataTransfer.files[i];\r\n                    this.$store.dispatch({\r\n                        type: 'book/loadFromFile',\r\n                        file: file,\r\n                        encoding: 'shift-jis',\r\n                    })\r\n                }\r\n            }\r\n        },\r\n    }\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropScreen.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DropScreen.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DropScreen.vue?vue&type=template&id=ff92f2fc&scoped=true&\"\nimport script from \"./DropScreen.vue?vue&type=script&lang=ts&\"\nexport * from \"./DropScreen.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DropScreen.vue?vue&type=style&index=0&id=ff92f2fc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ff92f2fc\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <component :is=\"'DropScreen'\"/>\n  </div>\n</template>\n\n<script>\nimport DropScreen from './components/DropScreen.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    DropScreen,\n  }\n}\n</script>\n\n<style>\nhtml, body, #app {\n  background-color:rgb(241, 237, 212);\n  height: 100%;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n  position:absolute;\n}\n\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=62a5a4a2&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const todo = function(text :string) {\r\n    // TODO: these are the other formatting options that I haven't implemented yet, but just remove for now\r\n    var comments = /［＃.+?］/g\r\n    var accents = /[〔〕]/g\r\n    text = text.replace(comments, \"\")\r\n    text = text.replace(accents, \"\")\r\n    return text\r\n}\r\nconst rubify = function(text :string) {\r\n    // hiragana katakana fw-roman hw-katakana unicodes:\r\n    // \\u3040-\\u309f\\u30a0-\\u30ff\\uff00-\\uff9f\r\n    //｜ is the kanji separator (different from ascii pipe |)\r\n    var furigana = /｜?([々\\u4e00-\\u9faf\\u3400-\\u4dbf]+?)《(.+?)》/g;\r\n    return text.replace(furigana, '<ruby>$1<rt>$2</rt></ruby>');\r\n}\r\nconst boutenify = function(text :string) {\r\n    var bouten = /(.+?)［＃「\\1」に傍点］/g;\r\n    return text.replace(bouten, '<span class=\"sesame-vertical\">$1</span>')\r\n}\r\nconst kutenkara = function(text :string) {\r\n    // TODO: actually convert the jis kuten codes\r\n    // TODO: non-kanji and unicode\r\n    var jiskuten = /※［＃(?:「(.+?)」、)?第(\\d+?)水準(\\d+?)-(\\d+?)-(\\d+?)］/g\r\n    return text.replace(jiskuten, \"※\")\r\n}\r\nconst midasi = function(text :string) {\r\n    var midasipattern = /(.+?)［＃「\\1」は([大中小])見出し］/g\r\n    return text.replace(midasipattern, function(match, p1, p2) {\r\n        switch(p2) {\r\n            case \"大\":\r\n                return '<h1>' + p1 + '</h1>';\r\n            case \"中\":\r\n                return '<h2>' + p1 + '</h2>';\r\n            case \"小\":\r\n                return '<h3>' + p1 + '</h3>';\r\n        }\r\n        console.log('Error replacing midasi pattern. Text: ' + text)\r\n        return ''\r\n    })\r\n}\r\nexport {\r\n    todo,\r\n    rubify,\r\n    midasi,\r\n    kutenkara,\r\n    boutenify,\r\n}\r\n","interface Bookmark {\r\n    paragraph: number,\r\n    node: number,\r\n    character: number,\r\n    content?: string,\r\n}\r\n\r\nconst insertBookmark = (content :string, bookmark: Bookmark) :string => {\r\n    // create a Template to parse easily\r\n    var template = document.createElement('template');\r\n    template.innerHTML = content;\r\n\r\n    // get the textNode that bookmark points to\r\n    var bookmarkNode = template.content.childNodes[bookmark.node];\r\n    if (bookmarkNode == null || bookmarkNode.textContent == null) {\r\n        console.log('Invalid bookmark. Node with index' + bookmark.node + 'does not exist');\r\n        return content;\r\n    }\r\n\r\n    // slice the node to get the specific chracter that bookmark points to\r\n    var sliceUntilBookmark = document.createTextNode(bookmarkNode.textContent.slice(0, bookmark.character));\r\n    var charAtBookmark = document.createTextNode(bookmarkNode.textContent[bookmark.character]);\r\n    var sliceAfterBookmark = document.createTextNode(bookmarkNode.textContent.slice(bookmark.character+1));\r\n\r\n    if (!charAtBookmark) {\r\n        console.log('Invalid bookmark. Character with index' + bookmark.character + 'does not exist');\r\n        return content;\r\n    }\r\n\r\n    var newBookmark = document.createElement('span') as HTMLElement;\r\n    newBookmark.appendChild(charAtBookmark);\r\n    newBookmark.style.backgroundColor = \"red\";\r\n\r\n    // repiece the nodes together\r\n    var bookmarkFragment = document.createDocumentFragment();\r\n    if (sliceUntilBookmark != null) {\r\n        bookmarkFragment.appendChild(sliceUntilBookmark);\r\n    }\r\n    bookmarkFragment.appendChild(newBookmark);\r\n    if (sliceUntilBookmark != null) {\r\n        bookmarkFragment.appendChild(sliceAfterBookmark);\r\n    }\r\n    template.content.replaceChild(bookmarkFragment, bookmarkNode);\r\n    return template.innerHTML;\r\n}\r\n\r\nexport {\r\n    Bookmark,\r\n    insertBookmark,\r\n}","import { todo, rubify, midasi, boutenify, kutenkara } from '../helpers/aozora'\r\nimport { Bookmark, insertBookmark } from '../helpers/bookmark'\r\n\r\nexport interface TextComponent {\r\n    jisage: number,\r\n    index: number,\r\n    hLevel: number,\r\n    content: string\r\n    textType: string,\r\n}\r\n\r\ninterface BookContext {\r\n    commit: Function\r\n    state: BookState\r\n    dispatch: Function\r\n}\r\n\r\nexport class BookState {\r\n    bookFile: BookFile | null = null;\r\n    bookmark: Bookmark = {\r\n        paragraph: 0,\r\n        node: 0,\r\n        character: 0,\r\n    };\r\n    rawLines: string[] = [];\r\n    textComponents: Array<TextComponent> = [];\r\n}\r\n\r\n\r\nexport interface BookFile {\r\n    file: File,\r\n    encoding: string,\r\n}\r\n\r\nconst state = () :BookState => new BookState();\r\n\r\n// getters\r\nconst getters = {\r\n    bookmark: (state :BookState) :Bookmark => {\r\n        return state.bookmark\r\n    },\r\n\r\n    isLoaded: (state :BookState) :boolean => (\r\n        state.rawLines.length > 0\r\n    ),\r\n\r\n    title: (state :BookState) :string => (\r\n        state.rawLines.length >= 2 ? state.rawLines[0] : ''\r\n    ),\r\n\r\n    author: (state :BookState) :string => (\r\n        state.rawLines.length >= 2 ? state.rawLines[1] : ''\r\n    ),\r\n\r\n    rawLines: (state :BookState) :Array<string> => {\r\n        return state.rawLines;\r\n    },\r\n\r\n    textComponents: (state :BookState) :Array<TextComponent> => {\r\n        return state.textComponents;\r\n    }\r\n}\r\n\r\n\r\n// actions\r\nconst actions = {\r\n    loadFromFile (context :BookContext, payload :BookFile) {\r\n        return new Promise((resolve) => {\r\n            var reader = new FileReader();\r\n            reader.onload = () => {\r\n                var rawString = reader.result as string;\r\n                context.commit('loadRawLines', rawString.split(/\\r?\\n/))\r\n                context.commit('loadFile', payload)\r\n                resolve();\r\n            };\r\n            reader.readAsText(payload.file, payload.encoding);\r\n        });\r\n    },\r\n    reloadWithEncoding (context :BookContext, payload :string) {\r\n        return new Promise((resolve, reject) => {\r\n            var reader = new FileReader();\r\n            reader.onload = () => {\r\n                var rawString = reader.result as string;\r\n                context.commit('loadRawLines', rawString.split(/\\r?\\n/))\r\n                resolve();\r\n            };\r\n            if (context.state.bookFile != null) {\r\n                reader.readAsText(context.state.bookFile.file, payload);\r\n            } else {\r\n                reject();\r\n            }\r\n        });\r\n    },\r\n}\r\n\r\n// mutations\r\nconst mutations = {\r\n    loadRawLines (state :BookState, payload :Array<string>) {\r\n        state.rawLines = payload\r\n        var texts = [];\r\n        if (state.rawLines.length == 0) {\r\n            state.textComponents = [];\r\n        }\r\n\r\n        // metadata\r\n        var divisor = /^-----/;\r\n        var metadataEnd = 4;\r\n        // arbitrarily stop at 100 (or EOF). If we hit 100, something is wrong so just include the metadata\r\n        for (var i = metadataEnd; i < 100 && i < state.rawLines.length; i++) {\r\n            if (state.rawLines[i].match(divisor)) {\r\n                metadataEnd = i\r\n                break\r\n            }\r\n        }\r\n        var jisage = 0;\r\n        for (i = metadataEnd + 1; i < state.rawLines.length; i++) {\r\n            // the text props we will pass to the BookParagraph component\r\n            var text :TextComponent = {\r\n                jisage: jisage,\r\n                index: i,\r\n                content: \"\",\r\n                textType: 'BookParagraph',\r\n                hLevel: 0,\r\n            }\r\n            var content = state.rawLines[i]\r\n            // line break\r\n            if (content === \"\") {\r\n                text.textType = 'BookLineBreak';\r\n                texts.push(text);\r\n                continue;\r\n            }\r\n\r\n            // first, check if it's a formatting line\r\n            var sagepattern = /^［＃(ここから)?([０-９]+?)字下げ］/\r\n            var fullwidth = content.match(sagepattern)\r\n            if (fullwidth) {\r\n                var jisageString = String.fromCharCode(fullwidth[2].charCodeAt(0) - 0xFEE0)\r\n                jisage = parseInt(jisageString)\r\n                // if ここから then continue, else change jisage for the current line\r\n                if (fullwidth[1]) {\r\n                    continue\r\n                } else {\r\n                    text.jisage = jisage\r\n                    jisage = 0\r\n                    content.replace(sagepattern, \"\")\r\n                }\r\n            }\r\n            var owaripattern = /^［＃ここで字下げ終わり］/\r\n            var owari = content.match(owaripattern)\r\n            if (owari) {\r\n                jisage = 0\r\n                continue\r\n            }\r\n\r\n            // next, do things like simple search and replace\r\n            content = kutenkara(content)\r\n            content = rubify(content)\r\n            content = boutenify(content)\r\n            content = midasi(content)\r\n            content = todo(content)\r\n\r\n            // add bookmark if available\r\n            if (state.bookmark.paragraph === i) {\r\n                content = insertBookmark(content, state.bookmark);\r\n            }\r\n\r\n            if (content) {\r\n                text.content = content\r\n                texts.push(text)\r\n            }\r\n        }\r\n        state.textComponents = texts;\r\n    },\r\n\r\n    loadBookmark (state :BookState, bookmark :Bookmark) {\r\n        // rawLines content\r\n        var content = state.bookmark.content;\r\n\r\n        // replace the old bookmark with the new bookmark. \"state.bookmark.content\" is gone\r\n        state.bookmark = bookmark;\r\n        for (var i = 0; i < state.textComponents.length; i++) {\r\n            if (state.textComponents[i].index === bookmark.paragraph) {\r\n                // if we have rawLines content stored\r\n                if (content) {\r\n                    state.textComponents[i].content = insertBookmark(content, bookmark);\r\n                    state.bookmark.content = content;\r\n                } else {\r\n                    state.bookmark.content = state.textComponents[i].content\r\n                    state.textComponents[i].content = insertBookmark(state.textComponents[i].content, bookmark)\r\n                }\r\n            }\r\n        }\r\n\r\n        console.log(\"After:\")\r\n        console.log(state.bookmark.content);\r\n    },\r\n\r\n    loadFile (state :BookState, payload :BookFile) {\r\n        state.bookFile = payload ;\r\n    },\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  actions,\r\n  getters,\r\n  mutations\r\n}","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport book from './book'\r\n\r\nVue.use(Vuex)\r\n\r\nconst debug = process.env.NODE_ENV !== 'production'\r\n\r\nexport default new Vuex.Store({\r\n  modules: {\r\n      book,\r\n  },\r\n  strict: debug,\r\n})\r\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport App from './App.vue'\nimport store from './store'\n\nVue.config.productionTip = false;\nVue.use(Vuex);\n\nnew Vue({\n  store,\n  render: function (h) { return h(App) },\n}).$mount('#app');\n"],"sourceRoot":""}